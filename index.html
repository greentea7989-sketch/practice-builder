<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>식사 메뉴 추첨기</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;500;600;700&family=Gowun+Dodum&display=swap" rel="stylesheet">
</head>
<body>
    <header class="site-header">
        <div class="brand">
            <span class="brand-tag">Menu Raffle</span>
            <h1>식사 메뉴 추첨기</h1>
            <p>후보를 모아 한 번에 뽑아보세요. 오늘의 메뉴는 운명에 맡깁니다.</p>
        </div>
        <div class="header-actions">
            <button id="theme-toggle" class="theme-toggle" type="button" aria-pressed="false">
                다크모드
            </button>
            <button id="draw-button" class="primary-btn" type="button">
                지금 추첨
            </button>
        </div>
    </header>

    <main class="grid">
        <section class="card input-card">
            <h2>후보 입력</h2>
            <p class="helper">줄마다 메뉴 1개씩 입력하세요. 콤마(,)로도 구분됩니다.</p>
            <p class="helper">태그는 `#한식`처럼 붙이거나 `메뉴 | 한식, 국물` 형식으로 적어주세요.</p>
            <textarea id="menu-input" placeholder="예: 김치찌개 #한식 #찌개\n초밥 #일식\n파스타 | 양식, 크리미"></textarea>
            <div class="inline-actions">
                <button id="fill-sample" class="ghost-btn" type="button">샘플 채우기</button>
                <button id="clear-input" class="ghost-btn" type="button">비우기</button>
            </div>
            <div class="chip-group">
                <button class="chip" type="button" data-add="김치찌개 #한식 #찌개">김치찌개</button>
                <button class="chip" type="button" data-add="제육볶음 #한식">제육볶음</button>
                <button class="chip" type="button" data-add="돈까스 #일식">돈까스</button>
                <button class="chip" type="button" data-add="마라탕 #중식 #매운">마라탕</button>
                <button class="chip" type="button" data-add="샐러드 #가볍게">샐러드</button>
                <button class="chip" type="button" data-add="라멘 #일식 #면">라멘</button>
                <button class="chip" type="button" data-add="쌀국수 #동남아 #면">쌀국수</button>
                <button class="chip" type="button" data-add="피자 #양식">피자</button>
            </div>
            <div class="meta-row">
                <span id="menu-count">후보 0개</span>
                <span id="filtered-count">필터 적용 후 0개</span>
            </div>
        </section>

        <section class="card option-card">
            <h2>추첨 옵션</h2>
            <div class="field-grid">
                <label class="field">
                    <span>뽑을 개수</span>
                    <input id="draw-count" type="number" min="1" value="1">
                </label>
                <label class="field toggle-field">
                    <span>중복 허용</span>
                    <input id="allow-duplicate" type="checkbox">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <label class="field">
                <span>제외 키워드</span>
                <input id="exclude-input" type="text" placeholder="예: 매운, 해산물, 면">
                <small>키워드가 포함된 메뉴는 자동 제외됩니다.</small>
            </label>
            <label class="field">
                <span>태그 필터</span>
                <div class="tag-filter">
                    <button class="tag-btn" type="button" data-tag="한식">한식</button>
                    <button class="tag-btn" type="button" data-tag="중식">중식</button>
                    <button class="tag-btn" type="button" data-tag="일식">일식</button>
                    <button class="tag-btn" type="button" data-tag="양식">양식</button>
                    <button class="tag-btn" type="button" data-tag="분식">분식</button>
                    <button class="tag-btn" type="button" data-tag="면">면</button>
                    <button class="tag-btn" type="button" data-tag="매운">매운</button>
                    <button class="tag-btn" type="button" data-tag="가볍게">가볍게</button>
                    <button class="tag-btn" type="button" data-tag="국물">국물</button>
                    <button class="tag-btn" type="button" data-tag="간편식">간편식</button>
                </div>
                <button id="clear-tags" class="ghost-btn" type="button">태그 초기화</button>
                <small>태그를 여러 개 선택하면 그 중 하나라도 포함된 메뉴만 남습니다.</small>
            </label>
            <label class="field">
                <span>분위기</span>
                <div class="mood-buttons">
                    <button class="mood-btn" type="button" data-mood="간단하게">간단하게</button>
                    <button class="mood-btn" type="button" data-mood="든든하게">든든하게</button>
                    <button class="mood-btn" type="button" data-mood="가볍게">가볍게</button>
                    <button class="mood-btn" type="button" data-mood="매콤하게">매콤하게</button>
                </div>
            </label>
            <div class="status" id="status-message">메뉴를 입력하고 추첨 버튼을 눌러보세요.</div>
        </section>

        <section class="card result-card">
            <div class="result-header">
                <h2>오늘의 메뉴</h2>
                <div class="result-actions">
                    <button id="copy-result" class="ghost-btn" type="button">결과 복사</button>
                    <button id="clear-history" class="ghost-btn" type="button">기록 지우기</button>
                </div>
            </div>
            <div id="result-box" class="result-box">
                <p class="placeholder">아직 추첨 전입니다.</p>
            </div>
            <div class="history">
                <h3>추첨 기록</h3>
                <ul id="history-list"></ul>
            </div>
        </section>

        <section class="card contact-card">
            <h2>제휴 문의</h2>
            <p class="helper">제품/서비스 제휴, 공동 프로모션, 컨텐츠 협업 등 편하게 문의 주세요.</p>
            <form action="https://formspree.io/f/mgolkawk" method="POST" class="contact-form">
                <input type="hidden" name="_subject" value="Menu Raffle 제휴 문의">
                <div class="form-grid">
                    <label class="field">
                        <span>이름</span>
                        <input type="text" name="name" placeholder="홍길동" required>
                    </label>
                    <label class="field">
                        <span>이메일</span>
                        <input type="email" name="email" placeholder="name@company.com" required>
                    </label>
                    <label class="field field--full">
                        <span>회사/팀</span>
                        <input type="text" name="company" placeholder="회사명 또는 팀명">
                    </label>
                    <label class="field field--full">
                        <span>문의 내용</span>
                        <textarea name="message" placeholder="제휴 목적, 일정, 예산 범위 등을 알려주세요." required></textarea>
                    </label>
                </div>
                <div class="form-actions">
                    <button class="primary-btn" type="submit">제휴 문의 보내기</button>
                    <span class="form-note">제출 시 Formspree를 통해 이메일로 전달됩니다.</span>
                </div>
            </form>
        </section>
    </main>

    <script src="main.js"></script>
</body>
</html>
